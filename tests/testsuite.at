AT_INIT

m4_define([tl], [[${abs_top_builddir}/src/dirsystem/tl]])

m4_define([runtl], [tl --library-path=${abs_top_builddir}/src/libs/int --library-path=${abs_top_builddir}/src/libs/printer])

AT_SETUP([Sanity Check])
AT_DATA([expout],
[[50
]])
AT_CHECK([tl -i ${srcdir}/sanity], 0, 
   [expout],,[echo Failed], [echo Passed])

AT_CLEANUP

AT_SETUP([simple tests])
AT_DATA([expout],
[[ustring<some<text>>>
42
ustring<this is a string>
special<const>
ustring<string with spaces>
ustring<42>
]])
AT_CHECK([tl -i ${srcdir}/simple], 0, 
   [expout],,[echo Failed], [echo Passed])

AT_DATA([expout],
[[110
true
true
true
false
-1
0
1
]])
AT_CHECK([runtl [-i ${srcdir}/operations]], 0,
   [expout],,[echo Failed], [echo Passed])

AT_CLEANUP

AT_SETUP([Range Tests])
AT_DATA([expout],
[[0
ustring<second>
ustring<third>
]])
AT_CHECK([runtl [-i ${srcdir}/range]], 0,
   [expout],,[echo Failed], [echo Passed])

AT_CLEANUP
